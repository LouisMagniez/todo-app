<form (ngSubmit)="onSubmit()" #taskForm="ngForm" [hidden]="!taskToEdit.edit">
  <div class="edit-form">
    <div class="edit-content" class="dense-3" [hidden]="isInDialog">
      <mat-form-field class="form-group" appearance="outline">
        <div class="edit-input">
          <input
            matInput
            #taskEditInput
            cdkTrapFocus
            [cdkTrapFocusAutoCapture]="true"
            maxlength="200"
            id="editContent"
            [(ngModel)]="taskToEdit.content"
            name="editContent"
          />
        </div>
        <button
          *ngIf="taskToEdit.content"
          matSuffix
          mat-icon-button
          aria-label="Clear"
          type="button"
          (click)="taskToEdit.content = ''"
        >
          <mat-icon>close</mat-icon>
        </button>
      </mat-form-field>
    </div>

    <div class="dialog-edit">
      <div class="edit-description" class="dense-2" [hidden]="!isInDialog">
        <div>
          <mat-form-field class="form-group" appearance="outline">
            <div class="edit-input">
              <input
                matInput
                #taskDescEditInput
                maxlength="200"
                id="editDescription"
                [(ngModel)]="taskToEdit.description"
                name="editDescription"
              />
            </div>
            <button
              *ngIf="taskToEdit.description"
              matSuffix
              mat-icon-button
              aria-label="Clear"
              type="button"
              (click)="taskToEdit.description = ''"
            >
              <mat-icon>close</mat-icon>
            </button>
          </mat-form-field>
        </div>
      </div>

      <div class="edit-date" class="dense-2" [hidden]="!isInDialog">
        <div>
          <mat-form-field class="form-group" appearance="outline">
            <div class="edit-input">
              <input
                matInput
                type="date"
                #taskDateEditInput
                id="editDate"
                [(ngModel)]="taskToEdit.dueDate"
                name="editDate"
              />
            </div>
          </mat-form-field>
        </div>
      </div>

      <div class="edit-time" class="dense-2" [hidden]="!isInDialog">
        <div>
          <mat-form-field class="form-group" appearance="outline">
            <div class="edit-input">
              <input
                matInput
                type="time"
                #taskTimeEditInput
                id="editTime"
                [(ngModel)]="taskToEdit.dueTime"
                name="editTime"
              />
            </div>
          </mat-form-field>
        </div>
      </div>
      <div [hidden]="!isInDialog">
        <div class="button-save">
          <button
            mat-flat-button
            color="primary"
            type="submit"
            [disabled]="!taskEditInput.value"
          >
            Save
          </button>
        </div>
      </div>
    </div>
    <div [hidden]="isInDialog">
      <div class="button">
        <button
          mat-icon-button
          color="primary"
          type="submit"
          class="edit-button"
          [disabled]="!taskEditInput.value"
        >
          <mat-icon>check</mat-icon>
        </button>
      </div>
    </div>
  </div>
</form>
